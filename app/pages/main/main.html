<ion-header>
  <ion-navbar>
    <button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>
      <span [ngSwitch]="rc.mode">
        <template ngSwitchCase="practice">Free Practice</template>
        <template ngSwitchCase="qualifying">Qualifying</template>
        <template ngSwitchCase="race">Race</template>
      </span>
      <span [ngSwitch]="rc.mode" style="float: right">
        <template ngSwitchCase="qualifying">
          <chequered-flag *ngIf="rc.finished"></chequered-flag>
          <span>{{rc.timer | async | time:'m:ss'}}</span>
          <chequered-flag *ngIf="rc.finished"></chequered-flag>
        </template>
        <template ngSwitchCase="race">
          <chequered-flag *ngIf="rc.finished"></chequered-flag>
          <span>Lap {{rc.lap}}/{{rc.laps}}</span>
          <span *ngIf="rc.time">
            {{rc.timer | async | time:'m:ss'}}
          </span>
          <chequered-flag *ngIf="rc.finished"></chequered-flag>
        </template>
      </span>
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <leaderboard [fuel]="cu.fuel | async" [pitlane]="usePitlane | async" [mode]="rc.mode" [ranking]="rc.ranking | async" [bestlap]="rc.bestlap">
  </leaderboard>
</ion-content>

<ion-footer>
  <ion-toolbar text-center transparent>
    <startlight tappable (click)="cu.toggleStart()" [count]="startCount | async" [blink]="startBlink | async"></startlight>
  </ion-toolbar>
</ion-footer>
