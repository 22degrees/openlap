<ion-navbar *navbar>
  <button menuToggle>
    <ion-icon name="menu"></ion-icon>
  </button>
  <ion-title>Practice</ion-title>
</ion-navbar>

<ion-content>
  <table class="leaderboard">
    <colgroup>
      <col style="width: 2.25em">
      <col>
      <col>
      <col>
      <col style="width: 4em">
      <col style="width: 6em">
      <col style="width: 4em">
    </colgroup>
    <thead>
      <tr>
        <th text-left>POS</th>
        <th text-left>NAME</th>
        <th text-right>LAP TIME</th>
        <th text-right>BEST LAP</th>
        <th text-right>LAPS</th>
        <th text-left>FUEL</th>
        <th text-left></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of (items | async); let i = index;">
        <td text-left class="stripe-container">{{i + 1}}<stripe [color]="drivers.itemAt(item.id).color"></stripe></td>
        <td text-left>{{drivers.itemAt(item.id).name}}</td>
        <td text-right>{{(item.laptime / 1000).toFixed(3)}}</td>
        <td text-right>{{(item.bestlap / 1000).toFixed(3)}}</td>
        <td text-right>{{item.laps}}</td>
        <td text-left>
          <gauge max="15" [value]="(cu.fuel | async)[item.id.charCodeAt(0) - 49]"></gauge>
        </td>
        <td text-left>
          <span *ngIf="inPit(item.id, cu.pit | async)" class="pit">PIT</span>
        </td>
      </tr>
    </tbody>
  </table>
</ion-content>

<ion-toolbar position="bottom" text-center transparent>
  <startlight (click)="start()" [value]="cu.startSequence | async"></startlight>
</ion-toolbar>
